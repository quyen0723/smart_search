# Smart Search Configuration
# Copy this file to .env and update values as needed

# =============================================================================
# Application Settings
# =============================================================================
APP_NAME=smart-search
APP_ENV=development
APP_DEBUG=true
LOG_LEVEL=DEBUG

# =============================================================================
# API Server Settings
# =============================================================================
API_HOST=0.0.0.0
API_PORT=8000
API_WORKERS=1
API_RELOAD=true

# =============================================================================
# Meilisearch Settings
# =============================================================================
MEILISEARCH_HOST=http://localhost
MEILISEARCH_PORT=7700
MEILISEARCH_MASTER_KEY=smart_search_dev_key
MEILISEARCH_ENV=development
MEILISEARCH_LOG_LEVEL=INFO

# Index settings
MEILISEARCH_INDEX_CODE_UNITS=code_units
MEILISEARCH_BATCH_SIZE=1000

# =============================================================================
# Embedding Settings
# =============================================================================
EMBEDDING_MODEL=jinaai/jina-embeddings-v2-base-code
EMBEDDING_DIMENSIONS=768
EMBEDDING_MAX_SEQ_LENGTH=8192
EMBEDDING_BATCH_SIZE=32
EMBEDDING_DEVICE=cpu

# =============================================================================
# Graph Settings
# =============================================================================
GRAPH_STORAGE_PATH=./data/graphs
GRAPH_MAX_DEPTH=10

# =============================================================================
# Indexing Settings
# =============================================================================
INDEX_STORAGE_PATH=./data/indices
EMBEDDING_CACHE_PATH=./data/embeddings_cache
FILE_HASH_ALGORITHM=xxhash

# File watching
WATCH_DEBOUNCE_SECONDS=2.0
WATCH_IGNORE_PATTERNS=__pycache__,*.pyc,.git,node_modules,.venv,venv

# =============================================================================
# Cache Settings
# =============================================================================
CACHE_TTL_SECONDS=3600
CACHE_MAX_SIZE_MB=512

# =============================================================================
# Performance Settings
# =============================================================================
# Search timeout in milliseconds
SEARCH_TIMEOUT_MS=5000
# Graph traversal max nodes
GRAPH_MAX_NODES=10000
